# JPA(Java Persistence API)

**JPA (Java Persistence API)란 지속적으로 거대한 양의 데이터를 데이터 베이스에 저장하기 위한 클래스 또는 메소드의 집합을 의미한다.**

---

## JPA - Introduction

**기업에서 사용하는 어플리케이션은 방대한 양의 데이터를 검색 또는 저장함으로써 데이터베아스 연산을 수행한다.**
저장공간 관리를 위한 모든 이용가능한 기술이 있음에도 불구하고, 개발자들은 데이터베이스 연산을 효율적으로 수행하기 위해 노력중이다.

### Mismatches between relational and object models

Relational Objects는 테이블(tabular) 형식으로 나타내어진다. 반면에 Object models은 객체의 상호연결된 그래프로 표시되어집니다.

관계형 데이터베이스로부터 object model을 검색하고 저장하는 동안, 약간의 mismatch는 다음과 같은 이유에 의해서 발생합니다.

- **Granularity :** Object model은 관계형 모델보다 더 많은 단위(granularity)를 가집니다.
- **Subtypes :** Subtypes는 모든 종류의 관계형 데이터베이스에서 지원하지 않습니다.
- **Identity** : 객체 모델과 마찬가지로, 관계형 모델은 등식을 작성하는 동안에 정체를 노출시키지 않습니다.,
- **Associations :** 관계형 모델은 object domain model을 조사하는 동안 여러 관계를 결정할 수 없다.
- **Data navigation :** 객체 네트워크에서 객체간의 Data navigation이 다르다.

### Where to use JPA?

관계형 객체를 관리하기 위해 코드를 쓰는 수고(burden)을 감소하기 위해, 개발자는 JPA Provider 프레임워크를 따른다. JPA Provider 프레임워크는 데이터베이스 인스턴스간 상호관계를 쉽게 해준다. 여기서 필요한 프레임워크는 JPA에 의해 대신 처리된다.

<img src="/Users/baejongjin/Library/Application Support/typora-user-images/image-20200112194721418.png" alt="image-20200112194721418" style="zoom:50%;" />

### JPA History

이전 버젼의 EJB에서, 정의된 persistence 단계에서 business 로직 단계를 javax.ejb.EntitiyBean 인터페이스를 사용해서 결합했다.

- EJB 3.0을 도입하는 동안, persistence 계층이 분리되고 JPA(Java Persistence API) 1.0으로 구체화 되었습니다.
- JPA 2.0은 2009년 10월 10일에 JAVA EE6에서 출시하였다.

### JPA Providers

JPA는 오픈소스 API이다. Oracle, Redhat, Eclipse 등과 같은 다양한 엔터프라이즈 공급업체는 JPA Persistence 기능을 새로운 제품에 추가해서 사용자들에게 공급한다.

이러한 제품의 예로는 : Hibernate, Eclipselink, Toplink, Spring Data JPA, etc

---

## JPA - Architecture

JPA는 business 엔티티를 relational 엔티티로써 저장하는 소스이다.

### Class Level Architecture

<img src="/Users/baejongjin/Library/Application Support/typora-user-images/image-20200112235505507.png" alt="image-20200112235505507" style="zoom:50%;" />

위의 이미지는 클래스 레벨의 JPA 아키텍처를 보여준다. 위의 이미지는 JPA의 핵심 클래스와 인터페이스를 보여준다.

**JPA의 핵심 클래스 및 아키텍처 소개**

- EntitiyManagerFactory : 





























